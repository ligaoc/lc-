以下是精心整理的15个典型Java面试场景题，覆盖基础、并发、设计、分布式等核心方向，结合企业高频考点设计：

⚙️ 一、基础与设计
扫码登录实现流程  

场景：设计微信扫码登录流程，要求说明前后端交互、状态轮询机制。  

考点：状态机设计、短连接超时控制、安全校验。
订单超时自动取消  

场景：电商订单30分钟未支付自动关闭，如何实现？  

考点：延时队列（如RabbitMQ TTL+死信队列）、定时任务扫表、Redis Key过期监听。
接口幂等性保证  

场景：支付接口因网络抖动重复提交，如何避免重复扣款？  

考点：Token机制（请求前预生成唯一Token）、数据库唯一索引、分布式锁（Redis SETNX）。

🔄 二、并发与JVM
线程池异常处理  

场景：线程池任务执行抛出未捕获异常，会有什么后果？如何恢复？  

考点：线程池的afterExecute()重写、自定义Thread.UncaughtExceptionHandler。
Full GC频繁发生  

场景：线上服务频繁Full GC，如何定位和优化？  

考点：堆内存分析（MAT工具）、GC日志解读、对象引用泄漏检查。
生产服务器性能骤降  

场景：服务器CPU飙升至90%，如何快速诊断？  

考点：top→jstack查线程栈、jmap分析堆内存、Arthas在线诊断。

🧩 三、分布式与存储
分库分表后唯一索引失效  

场景：用户表按ID分10个库，如何保证手机号全局唯一？  

考点：基因法（手机号Hash融入分片键）、布隆过滤器、中心化发号器。
短域名系统设计  

场景：设计如t.cn的短链服务，支持百亿级映射。  

考点：发号策略（Snowflake算法）、长短链映射存储（Redis+MySQL）、高并发读优化。
布隆过滤器应用  

场景：如何用布隆过滤器防止缓存穿透？  

考点：位数组原理、误判率计算、Guava BloomFilter实现。

⚡️ 四、系统设计
秒杀系统核心设计  

场景：100万用户抢购1千件商品，如何保证不超卖？  

考点：库存预热（Redis扣减）、请求限流（令牌桶）、MQ削峰填谷。
分布式唯一ID生成  

场景：设计全局唯一ID生成器，要求高并发、趋势递增。  

考点：Snowflake算法（时间戳+机器ID+序列号）、Leaf-segment号段模式。
LRU缓存带过期时间  

场景：实现支持TTL的LRU缓存，要求自动淘汰。  

考点：LinkedHashMap重写removeEldestEntry()、时间轮（TimerWheel）管理过期。

🧠 五、算法与调优
海量数据Top K问题  

场景：2GB日志文件统计出现频率最高的100个单词。  

考点：分治+哈希分桶、小顶堆（PriorityQueue）、外部排序。
SQL深度分页优化  

场景：LIMIT 1000000,10执行缓慢，如何优化？  

考点：延迟关联（子查询先查ID）、书签记录（WHERE id > ?）。
多线程交替打印  

场景：三个线程按顺序循环打印"A"、"B"、"C"。  

考点：ReentrantLock条件变量、wait()/notifyAll()同步。

💡 提示：每个场景需结合代码示例（如手写伪代码）和架构图解释，面试中重点考察设计权衡（如一致性 vs 性能）和异常处理能力。更多题目可参考[场景设计题库]及[高并发解决方案]。
